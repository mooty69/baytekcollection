<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Baytek Collection</title>
<style>
  :root{
    --bg:#08070a; --card:#111114; --accent:#ff00ff; --muted:#cfcfe0;
    --glass: rgba(255,255,255,0.03);
    --radius:12px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter, Poppins, system-ui, Arial; background:var(--bg); color:#fff; -webkit-font-smoothing:antialiased}
  /* Background video */
  #bg-video{position:fixed;inset:0;z-index:-100;object-fit:cover;width:100%;height:100%;pointer-events:none;filter:brightness(0.55) saturate(0.85);}
  .bg-overlay{position:fixed;inset:0;z-index:-90;background:linear-gradient(180deg, rgba(3,3,6,0.18), rgba(0,0,0,0.42));pointer-events:none}

  /* header centered */
  header{padding:36px 16px;text-align:center;position:relative;z-index:10}
  .logo{width:120px;height:120px;object-fit:cover;border-radius:14px;display:block;margin:0 auto 10px;box-shadow:0 10px 30px rgba(0,0,0,0.6)}
  .site-title{font-size:30px;color:var(--accent);margin:4px 0 0;font-weight:800;letter-spacing:1px}
  .site-sub{color:var(--muted);margin-top:6px;font-size:14px}

  /* main container */
  .container{max-width:1200px;margin:28px auto;padding:0 16px;position:relative;z-index:5}
  /* products center layout */
  .products{
    display:flex;
    flex-wrap:wrap;
    gap:24px;
    justify-content:center; /* <-- centers all items in each row */
    align-items:flex-start;
  }
  .product{
    width:260px;
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border-radius:var(--radius);
    padding:12px;
    box-shadow:0 8px 30px rgba(0,0,0,0.6);
    transition:transform .2s;
  }
  .product:hover{transform:translateY(-6px)}
  .product img{width:100%;height:170px;object-fit:cover;border-radius:10px;display:block}
  .product h3{font-size:16px;margin:10px 0 6px}
  .product p{margin:0;color:var(--muted);font-size:13px}
  .price{font-weight:800;color:var(--accent);margin-top:8px}
  .controls{margin-top:10px;display:flex;gap:8px;flex-direction:column}
  select,input[type=number]{padding:8px;border-radius:8px;border:none;background:var(--glass);color:#fff}
  .add{padding:10px;border-radius:10px;border:none;background:linear-gradient(180deg,var(--accent),#d400d4);color:#111;font-weight:800;cursor:pointer}

  /* stock badge */
  .stock{position:absolute;left:12px;top:12px;background:rgba(0,0,0,0.45);padding:6px 8px;border-radius:8px;font-weight:700}

  /* cart */
  #cart-icon{position:fixed;top:18px;right:18px;width:58px;height:58px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:var(--accent);color:#111;font-weight:800;z-index:999;box-shadow:0 10px 40px rgba(255,0,255,0.12);cursor:pointer}
  #cart-panel{position:fixed;right:18px;top:90px;width:360px;background: linear-gradient(180deg,#0f0f12,#151519);border-radius:12px;padding:14px;box-shadow:0 20px 60px rgba(0,0,0,0.7);display:none;z-index:999}
  #cart-panel h3{margin:0 0 10px 0;color:var(--accent)}
  #cart-list{list-style:none;padding:0;margin:0;max-height:52vh;overflow:auto}
  #cart-list li{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.03)}
  .remove{background:transparent;border:0;color:var(--accent);cursor:pointer;font-weight:700}

  #checkout{margin-top:12px;padding:10px;border-radius:10px;border:none;background:linear-gradient(180deg,var(--accent),#d400d4);color:#111;font-weight:800;width:100%;cursor:pointer}

  /* footer spacing */
  .spacer{height:40px}

  /* responsive */
  @media (max-width:960px){
    .product{width:100%;max-width:520px}
    #cart-panel{right:10px;left:10px;width:auto}
    .logo{width:100px;height:100px}
  }
</style>
</head>
<body>

<!-- Background video - soft store interior (sample). Replace with your local file if desired -->
<video id="bg-video" autoplay muted loop playsinline>
  <source src="https://cdn.jsdelivr.net/gh/kitety/video-samples@main/mall.mp4" type="video/mp4">
  <!-- fallback static background -->
</video>
<div class="bg-overlay" aria-hidden="true"></div>

<header>
  <img class="logo" src="https://i.imgur.com/Xcka2e9.jpeg" alt="Baytek Logo">
  <div class="site-title">Baytek Collection</div>
  <div class="site-sub">TarzÄ±n Yeni Merkezi â€“ Kalite, ÅÄ±klÄ±k ve Etki Bir Arada</div>
</header>

<main class="container">
  <section class="products" id="products">
    <!-- Product 1 -->
    <div class="product" data-name="Kartal figÃ¼rlÃ¼ LED Ä±ÅŸÄ±klÄ± su ÅŸelalesi" data-price="1200" data-max="24" data-stock="7" style="position:relative">
      <div class="stock">âš¡ Son <span class="stock-num">7</span> adet</div>
      <img src="https://i.imgur.com/aIAthmX.jpeg" alt="">
      <h3>Kartal figÃ¼rlÃ¼ LED Ä±ÅŸÄ±klÄ± su ÅŸelalesi</h3>
      <p>FigÃ¼r seÃ§enekleri: 1 adet Fil, 2 adet Fil</p>
      <div class="price">1200â‚º</div>
      <div class="controls">
        <select class="ship">
          <option>MNG - Standart</option>
          <option>MNG - HÄ±zlÄ±</option>
          <option>Aras - Standart</option>
        </select>
        <input type="number" min="1" value="1" class="qty">
        <button class="add">Sepete Ekle</button>
      </div>
    </div>

    <!-- Product 2 -->
    <div class="product" data-name="3 BardaklÄ± Vakumlu Termos Seti" data-price="450" data-max="24" data-stock="12" style="position:relative">
      <div class="stock">âš¡ Son <span class="stock-num">12</span> adet</div>
      <img src="https://i.imgur.com/wvdZXrC.jpeg" alt="">
      <h3>3 BardaklÄ± Vakumlu Termos Seti</h3>
      <p>Renk seÃ§enekleri: Su YeÅŸili, Mor, Siyah</p>
      <div class="price">450â‚º</div>
      <div class="controls">
        <select class="ship">
          <option>MNG - Standart</option>
          <option>MNG - HÄ±zlÄ±</option>
          <option>Aras - Standart</option>
        </select>
        <input type="number" min="1" value="1" class="qty">
        <button class="add">Sepete Ekle</button>
      </div>
    </div>

    <!-- Product 3 -->
    <div class="product" data-name="Mobgift USBâ€™li IÅŸÄ±klÄ± AhÅŸap StandlÄ± Cam KÃ¼re" data-price="200" data-max="52" data-stock="18" style="position:relative">
      <div class="stock">âš¡ Son <span class="stock-num">18</span> adet</div>
      <img src="https://i.imgur.com/oiAFO7w.jpeg" alt="">
      <h3>Mobgift USBâ€™li IÅŸÄ±klÄ± AhÅŸap StandlÄ± Cam KÃ¼re</h3>
      <p>FigÃ¼r seÃ§enekleri: Astronot, Melek, Galaksi</p>
      <div class="price">200â‚º</div>
      <div class="controls">
        <select class="ship">
          <option>MNG - Standart</option>
          <option>MNG - HÄ±zlÄ±</option>
          <option>Aras - Standart</option>
        </select>
        <input type="number" min="1" value="1" class="qty">
        <button class="add">Sepete Ekle</button>
      </div>
    </div>

    <!-- Product 4 (last, centered) -->
    <div class="product" data-name="3â€™lÃ¼ Motivasyonel Su MatarasÄ±" data-price="350" data-max="24" data-stock="9" style="position:relative">
      <div class="stock">âš¡ Son <span class="stock-num">9</span> adet</div>
      <img src="https://i.imgur.com/2en5c9l.jpeg" alt="">
      <h3>3â€™lÃ¼ Motivasyonel Su MatarasÄ±</h3>
      <p>Renk seÃ§enekleri: Siyah</p>
      <div class="price">350â‚º</div>
      <div class="controls">
        <select class="ship">
          <option>MNG - Standart</option>
          <option>MNG - HÄ±zlÄ±</option>
          <option>Aras - Standart</option>
        </select>
        <input type="number" min="1" value="1" class="qty">
        <button class="add">Sepete Ekle</button>
      </div>
    </div>

  </section>

  <div class="spacer"></div>
</main>

<!-- Cart UI -->
<div id="cart-icon">ğŸ›’</div>
<div id="cart-panel" aria-hidden="true">
  <h3>Sepet <span id="cart-count" style="opacity:0.8;font-weight:600;margin-left:8px"></span></h3>
  <ul id="cart-list"></ul>
  <div style="margin-top:8px;font-weight:800">Toplam: <span id="cart-total">0â‚º</span></div>
  <button id="checkout">Shopier & WhatsApp ile Tamamla</button>
</div>

<script>
/* Simple, robust cart system â€” no duplication, stock-aware, Shopier+WhatsApp preserved */
const SHOPIER_LINKS = {
  "Kartal figÃ¼rlÃ¼ LED Ä±ÅŸÄ±klÄ± su ÅŸelalesi":"https://shopier.com/baytekcollection/41882654",
  "3 BardaklÄ± Vakumlu Termos Seti":"https://shopier.com/baytekcollection/41884160",
  "Mobgift USBâ€™li IÅŸÄ±klÄ± AhÅŸap StandlÄ± Cam KÃ¼re":"https://shopier.com/baytekcollection/41884313",
  "3â€™lÃ¼ Motivasyonel Su MatarasÄ±":"https://shopier.com/baytekcollection/41884046"
};

let cart = []; // {name, price, qty, ship}

const cartIcon = document.getElementById('cart-icon');
const cartPanel = document.getElementById('cart-panel');
const cartList = document.getElementById('cart-list');
const cartTotal = document.getElementById('cart-total');
const cartCount = document.getElementById('cart-count');

cartIcon.addEventListener('click', ()=> {
  cartPanel.style.display = cartPanel.style.display === 'block' ? 'none' : 'block';
});

/* helper */
function formatPrice(n){ return Number(n).toLocaleString('tr-TR') + 'â‚º'; }

function updateCartUI(){
  cartList.innerHTML = '';
  let total = 0;
  let qtyTotal = 0;
  cart.forEach((it, idx)=>{
    total += it.price * it.qty;
    qtyTotal += it.qty;
    const li = document.createElement('li');
    li.style.display = 'flex'; li.style.justifyContent='space-between'; li.style.alignItems='center';
    li.innerHTML = `<div style="max-width:70%">${it.name} (${it.ship}) x${it.qty}</div><div style="text-align:right">${formatPrice(it.price*it.qty)} <button data-idx="${idx}" class="remove" style="margin-left:8px;background:none;border:0;color:#ff7bf0;cursor:pointer">âŒ</button></div>`;
    cartList.appendChild(li);
  });
  cartTotal.textContent = formatPrice(total);
  cartCount.textContent = qtyTotal ? `(${qtyTotal})` : '(0)';
  // remove handlers
  cartList.querySelectorAll('.remove').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const i = Number(btn.getAttribute('data-idx'));
      if(isNaN(i)) return;
      // restore stock
      const removed = cart[i];
      restoreStock(removed.name, removed.qty);
      cart.splice(i,1);
      updateCartUI();
    });
  });
}

/* restore stock when removing item */
function restoreStock(name, qty){
  const card = Array.from(document.querySelectorAll('.product')).find(c => c.getAttribute('data-name') === name);
  if(!card) return;
  let stock = Number(card.getAttribute('data-stock')||0);
  stock = stock + qty;
  card.setAttribute('data-stock', stock);
  const el = card.querySelector('.stock-num');
  if(el) el.textContent = stock;
}

/* add to cart handlers */
document.querySelectorAll('.product').forEach(card=>{
  const btn = card.querySelector('.add');
  btn.addEventListener('click', ()=>{
    const name = card.getAttribute('data-name');
    const price = Number(card.getAttribute('data-price'));
    let qty = Number(card.querySelector('.qty').value) || 1;
    const max = Number(card.getAttribute('data-max')) || 99;
    let stock = Number(card.getAttribute('data-stock')) || 0;
    if(stock <= 0){ alert('ÃœrÃ¼n stokta yok.'); return; }
    if(qty > stock) qty = stock;
    const ship = card.querySelector('.ship').value;

    const existing = cart.find(i => i.name === name && i.ship === ship);
    if(existing){
      const can = Math.min(max - existing.qty, stock);
      existing.qty += can;
      if(existing.qty > max) existing.qty = max;
    } else {
      cart.push({name, price, qty, ship});
    }

    // decrease stock attr
    const newStock = Math.max(0, stock - qty);
    card.setAttribute('data-stock', newStock);
    const sn = card.querySelector('.stock-num');
    if(sn) sn.textContent = newStock;

    updateCartUI();

    // small temporary feedback
    const popup = card.querySelector('.added-popup');
    if(popup){
      popup.style.display = 'block';
      setTimeout(()=>popup.style.display='none',900);
    }
  });
});

/* checkout behavior - open Shopier for first product and WhatsApp with message */
document.getElementById('checkout').addEventListener('click', ()=>{
  if(cart.length === 0){ alert('Sepetiniz boÅŸ!'); return; }
  let msg = 'Merhaba, sipariÅŸ vermek istiyorum:%0A';
  cart.forEach(it => {
    msg += `â€¢ ${it.name} x${it.qty} (${it.ship}) - ${formatPrice(it.price*it.qty)}%0A`;
  });
  const firstLink = SHOPIER_LINKS[cart[0].name] || Object.values(SHOPIER_LINKS)[0];
  window.open(firstLink, '_blank');
  window.open('https://wa.me/905334772649?text=' + encodeURIComponent(msg), '_blank');
});

/* Prevent double init if script runs twice */
if(window.__baytek_init){ console.log('already initialized'); } else { window.__baytek_init = true; }

/* Ensure no duplicated product rendering or event binding - we bound to static DOM once */
</script>

</body>
</html>
